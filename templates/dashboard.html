{% extends "base.html" %}
{% block content %}

<div class="row">
  <div class="col-lg-12 mb-4">
    <h2 class="fw-bold">Dashboard</h2>
    <p class="text-muted">Welcome, {{ user.full_name }}!</p>
  </div>
</div>

<div class="row g-4">

  <!-- Product Count Card -->
  <div class="col-md-6 col-lg-4">
    <div class="card shadow-sm border-0">
      <div class="card-body">
        <h5 class="card-title">Total Products</h5>
        <h2 class="fw-bold">{{ product_count }}</h2>
        <a href="{{ url_for('products_list') }}" class="btn btn-primary btn-sm mt-2">
          View Products
        </a>
      </div>
    </div>
  </div>

  <!-- User Count Card (Admin Only) -->
  {% if user.role == 'admin' %}
  <div class="col-md-6 col-lg-4">
    <div class="card shadow-sm border-0">
      <div class="card-body">
        <h5 class="card-title">Total Users</h5>
        <h2 class="fw-bold">{{ user_count }}</h2>
        <a href="{{ url_for('user_new') }}" class="btn btn-success btn-sm mt-2">
          + Add User
        </a>
      </div>
    </div>
  </div>
  {% endif %}

  <!-- Quick Tips Card -->
  <div class="col-md-12 col-lg-4">
    <div class="card shadow-sm border-0">
      <div class="card-body">
        <h5 class="card-title">Quick Tips</h5>
        <ul class="small">
          <li>Admin can manage users and products.</li>
          <li>Standard users are view-only for products.</li>
          <li>All actions are recorded in the audit trail.</li>
        </ul>
      </div>
    </div>
  </div>

</div>

{% endblock %}
